{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block data %}

<div class="large-area b-main" id="textContainer">
  <div id="textContent">
    <div class="container py-5">
      <div id="lightTextDefault" class="t-light">

        <div class="py-2">
          <h1 class="display-4 t-main-font">My Dream Journal</h1>
        </div>

        <div class="py-1">
          {% with pagination=pagination %}
            {% include "includes/pagination.html" %}
          {% endwith %}
        </div>

        <div id="contentFrame" class="py-3 px-1">
          <div class="row d-flex">

            <div class="col-md order-md-last mt-3">
              <div class="py-3 bg-light rounded">
                <div class="px-3">
                  <a class="btn btn-primary btn-block" href="{{ url_for('create_dream') }}" role="button">Create a new dream</a>
                </div>
                <div class="pt-4">
                  <h2 class="text-center">
                    <a class="no-u" href="{{ url_for('search') }}">
                      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                      </svg> Search
                    </a>
                  </h2>
                </div>
                <div class="pt-2">
                  <h2 class="text-center">
                    <a class="no-u" href="{{ url_for('filter_by') }}">
                      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-funnel" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"/>
                      </svg> Filter
                    </a>
                  </h2>
                </div>
              </div>
            </div>

            <div class="col-md-9 t-dark order-md-first mt-3">
              <ul class="list-group list-group-flush rounded">
                {% for id, dream_data in dreams.items() %}
                <li class="list-group-item p-3">
                  <h3 class="t-main-font"><a class="no-u t-dark" href="{{ url_for('dream_page', dream_id=id) }}">{{ dream_data.title }}</a>&nbsp;&nbsp;
                  {% for tag in dream_data.tags %}
                  <span class="badge bg-secondary"><a class="no-u" href="{{ url_for('filter_by', by='tag', q=tag) }}"><span class="t-light">{{ tag }}</span></a></span>&nbsp;
                  {% endfor %}</h3>
                  <div class="preview">
                    <a class="no-u t-dark" href="{{ url_for('dream_page', dream_id=id) }}"><p>{{ dream_data.excerpt }}...</p></a>
                  </div>
                </li>
                {% endfor %}
              </ul>
            </div>

          </div>
        </div>

        <div class="pb-1">
          {% with pagination=pagination %}
            {% include "includes/pagination.html" %}
          {% endwith %}
        </div>

      </div>
    </div>
  </div>
</div>

{% endblock %}
